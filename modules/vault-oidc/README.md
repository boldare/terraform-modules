# Vault OIDC
This module creates Vault JWT Auth Backend, which allows you to log in to Vault
using well-known services you already use.

For instance, you may configure this module to let you in to vault after
authorizing via GitLab or Google account.

## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.0 |
| <a name="requirement_vault"></a> [vault](#requirement\_vault) | >= 2.0, < 3.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_vault"></a> [vault](#provider\_vault) | >= 2.0, < 3.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [vault_jwt_auth_backend.this](https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/jwt_auth_backend) | resource |
| [vault_jwt_auth_backend_role.this](https://registry.terraform.io/providers/hashicorp/vault/latest/docs/resources/jwt_auth_backend_role) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_client_id"></a> [client\_id](#input\_client\_id) | OpenID client identifier. It should be generated on target service. | `string` | n/a | yes |
| <a name="input_client_secret"></a> [client\_secret](#input\_client\_secret) | OpenID client secret. It should be generated on target service. | `string` | n/a | yes |
| <a name="input_default_token_policies"></a> [default\_token\_policies](#input\_default\_token\_policies) | Default policy for everyone that's authorized using this method. I.e. this policies may allow access to cubbyhole and utilities. | `list(string)` | n/a | yes |
| <a name="input_default_ttl"></a> [default\_ttl](#input\_default\_ttl) | Default Time-To-Live (in seconds) for Vault tokens generated by this method. It should be set to a time comfortable for all users, yet still short enough to be safe in case of breach. It may be shorter than `max_lease_ttl`, as lease can be renewed. | `number` | `43200` | no |
| <a name="input_description"></a> [description](#input\_description) | Description of this auth method. You should write something that provides more than just a name here. | `string` | `"OpenID Connect auth method."` | no |
| <a name="input_domain"></a> [domain](#input\_domain) | Domain used to authenticate (i.e. gitlab.com) | `string` | n/a | yes |
| <a name="input_max_ttl"></a> [max\_ttl](#input\_max\_ttl) | Maximum Time-To-Live (in seconds) for Vault tokens generated by this method. It should be set to a time comfortable for all users, yet still short enough to be safe in case of breach. After this time passes, user needs to authenticate again. | `number` | `43200` | no |
| <a name="input_path"></a> [path](#input\_path) | Path to place this auth method. It can be just 'gitlab' for GitLab. | `string` | `"oidc"` | no |
| <a name="input_role_name"></a> [role\_name](#input\_role\_name) | Role name for this OIDC Auth | `string` | n/a | yes |
| <a name="input_scopes"></a> [scopes](#input\_scopes) | This is a list of scopes/permissions you will be asked to provide during login via target service. | `list(string)` | <pre>[<br>  "profile",<br>  "email"<br>]</pre> | no |
| <a name="input_vault_domains"></a> [vault\_domains](#input\_vault\_domains) | Domain(s) of your Vault installation. This is used to redirect you back to Vault from external service after authentication. | `list(string)` | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_accessor"></a> [accessor](#output\_accessor) | n/a |
| <a name="output_redirect_uris"></a> [redirect\_uris](#output\_redirect\_uris) | n/a |
